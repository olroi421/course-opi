# –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤

## –ü–ª–∞–Ω –ª–µ–∫—Ü—ñ—ó

1. –û—Å–Ω–æ–≤–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
2. –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º
3. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
4. –ö–µ—à—É–≤–∞–Ω–Ω—è
5. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É
6. Frontend –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
7. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∞–Ω–∞–ª—ñ–∑
8. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

## 1. –û—Å–Ω–æ–≤–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

## –ß–æ–º—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤–∞?

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **1 —Å–µ–∫—É–Ω–¥–∞** –∑–∞—Ç—Ä–∏–º–∫–∏ = 7% –≤—Ç—Ä–∞—Ç–∞ –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó
- **53%** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø–æ–∫–∏–¥–∞—é—Ç—å —Å–∞–π—Ç, —â–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è >3 —Å–µ–∫—É–Ω–¥–∏
- **100ms** –∑–∞—Ç—Ä–∏–º–∫–∏ = 1% –∑–Ω–∏–∂–µ–Ω–Ω—è –ø—Ä–æ–¥–∞–∂—ñ–≤ (Amazon)

### üí∞ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å = –ì—Ä–æ—à—ñ

**–®–≤–∏–¥–∫—ñ —Å–∞–π—Ç–∏:**
- ‚úÖ –í–∏—â–∞ –∫–æ–Ω–≤–µ—Ä—Å—ñ—è
- ‚úÖ –ö—Ä–∞—â–∏–π SEO
- ‚úÖ –ó–∞–¥–æ–≤–æ–ª–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ

## –†–æ–∑—É–º—ñ–Ω–Ω—è –≤—É–∑—å–∫–∏—Ö –º—ñ—Å—Ü—å

```mermaid
graph TB
    A[–ó–∞–ø–∏—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞] --> B{–ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ}
    B --> C[–ú–µ—Ä–µ–∂–∞<br/>10-100ms]
    B --> D[Backend<br/>50-500ms]
    B --> E[–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö<br/>10-1000ms]
    B --> F[–ó–æ–≤–Ω—ñ—à–Ω—ñ API<br/>100-5000ms]
```

### ‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–æ:

**–ù–µ –∑–¥–æ–≥–∞–¥—É–π—Ç–µ—Å—å - –≤–∏–º—ñ—Ä—é–π—Ç–µ!**

## –ó–∞–∫–æ–Ω –ê–º–¥–∞–ª–∞

### –û–±–º–µ–∂–µ–Ω–Ω—è –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–∞—Ü—ñ—ó:

```
–ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è = 1 / ((1 - P) + P/S)
```

- **P** - —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É, —è–∫—É –º–æ–∂–Ω–∞ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑—É–≤–∞—Ç–∏
- **S** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ–≤

### –ü—Ä–∏–∫–ª–∞–¥:

–Ø–∫—â–æ 10% –∫–æ–¥—É –ø–∞—Ä–∞–ª–µ–ª—ñ–∑—É—î—Ç—å—Å—è:
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è ‚âà **10x**
- –ù–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —è–¥–µ—Ä!

## –í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### –ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏:

- ‚è±Ô∏è **–ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** - –ª–∞—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—É
- üîÑ **Throughput** - –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É
- üíæ **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤** - CPU, RAM, disk
- üìä **Percentiles** - p50, p95, p99

### üéØ Percentiles > –°–µ—Ä–µ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è

```
p50 = 100ms  (–º–µ–¥—ñ–∞–Ω–∞)
p95 = 500ms  (95% –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
p99 = 2000ms (–Ω–∞–π–≥—ñ—Ä—à–∏–π –¥–æ—Å–≤—ñ–¥)
```

## –ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É

```python
import cProfile
import pstats

def complex_function():
    result = []
    for i in range(10000):
        result.append(sum(range(i)))
    return result

# –ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è
profiler = cProfile.Profile()
profiler.enable()
complex_function()
profiler.disable()

# –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
stats = pstats.Stats(profiler)
stats.sort_stats('cumulative')
stats.print_stats(10)  # –¢–æ–ø-10 —Ñ—É–Ω–∫—Ü—ñ–π
```

## 2. –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º

## –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ vs –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ

### üìà –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ (Scale Up):

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∫–æ–¥
- ‚úÖ –ú–µ–Ω—à–µ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –§—ñ–∑–∏—á–Ω–∞ –º–µ–∂–∞ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ
- ‚ùå –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å
- ‚ùå Single point of failure

## –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### üìä –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ (Scale Out):

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–æ–±–º–µ–∂–µ–Ω–µ
- ‚úÖ –í—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å
- ‚úÖ –õ—ñ–Ω—ñ–π–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω—ñ stateless –¥–æ–¥–∞—Ç–∫–∏
- ‚ùå –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

```mermaid
graph TB
    A[Load Balancer] --> B[Server 1]
    A --> C[Server 2]
    A --> D[Server 3]
    A --> E[Server N]

    B --> F[(Database)]
    C --> F
    D --> F
    E --> F

    G[Cache] --> A
```

## –ë–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ä–æ–∑–ø–æ–¥—ñ–ª—É:

1. **Round Robin** - –ø–æ —á–µ—Ä–∑—ñ
2. **Least Connections** - –Ω–∞–π–º–µ–Ω—à–µ –∑'—î–¥–Ω–∞–Ω—å
3. **IP Hash** - –Ω–∞ –æ—Å–Ω–æ–≤—ñ IP –∫–ª—ñ—î–Ω—Ç–∞
4. **Weighted** - –∑ –≤–∞–≥–∞–º–∏ —Å–µ—Ä–≤–µ—Ä—ñ–≤

### –ü—Ä–∏–∫–ª–∞–¥ Nginx:

```nginx
upstream backend {
    least_conn;
    server backend1:8000 weight=3;
    server backend2:8000 weight=2;
    server backend3:8000 backup;
}
```

## Health Checks

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤–µ—Ä—ñ–≤:

```nginx
server {
    location / {
        proxy_pass http://backend;

        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –∑–±—ñ–π–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤
        proxy_next_upstream error timeout
                           invalid_header http_500;
    }
}
```

**–Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î ‚Üí –≤–∏–∫–ª—é—á–∞—î—Ç—å—Å—è –∑ –ø—É–ª—É**

## 3. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

## –Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è

### –ë–µ–∑ —ñ–Ω–¥–µ–∫—Å—É - –ø–æ–≤—ñ–ª—å–Ω–æ:

```sql
SELECT * FROM users WHERE email = 'user@example.com';
-- –ß–∞—Å: 450ms –Ω–∞ 1,000,000 –∑–∞–ø–∏—Å—ñ–≤
```

### –ó —ñ–Ω–¥–µ–∫—Å–æ–º - —à–≤–∏–¥–∫–æ:

```sql
CREATE INDEX idx_users_email ON users(email);

SELECT * FROM users WHERE email = 'user@example.com';
-- –ß–∞—Å: 2ms
```

**–Ü–Ω–¥–µ–∫—Å–∏ = 225x –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è!** üöÄ

## –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏

### ‚úÖ –Ü–Ω–¥–µ–∫—Å—É–π—Ç–µ:

- –°—Ç–æ–≤–ø—Ü—ñ –≤ WHERE —É–º–æ–≤–∞—Ö
- –°—Ç–æ–≤–ø—Ü—ñ –≤ JOIN –æ–ø–µ—Ä–∞—Ü—ñ—è—Ö
- –°—Ç–æ–≤–ø—Ü—ñ –≤ ORDER BY
- Foreign keys

### ‚ùå –ù–µ —ñ–Ω–¥–µ–∫—Å—É–π—Ç–µ:

- –†—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Å—Ç–æ–≤–ø—Ü—ñ
- –ú–∞–ª—ñ —Ç–∞–±–ª–∏—Ü—ñ (<1000 –∑–∞–ø–∏—Å—ñ–≤)
- –°—Ç–æ–≤–ø—Ü—ñ –∑ —á–∞—Å—Ç–∏–º–∏ UPDATE

**–Ü–Ω–¥–µ–∫—Å–∏ –ø—Ä–∏—Å–∫–æ—Ä—é—é—Ç—å —á–∏—Ç–∞–Ω–Ω—è, –∞–ª–µ —Å–ø–æ–≤—ñ–ª—å–Ω—é—é—Ç—å –∑–∞–ø–∏—Å!**

## –°–∫–ª–∞–¥–µ–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏

```sql
-- –Ü–Ω–¥–µ–∫—Å –Ω–∞ –∫—ñ–ª—å–∫–∞ —Å—Ç–æ–≤–ø—Ü—ñ–≤
CREATE INDEX idx_orders_customer_date
ON orders(customer_id, created_at);

-- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞—î —ñ–Ω–¥–µ–∫—Å
SELECT * FROM orders
WHERE customer_id = 123
  AND created_at > '2024-01-01';

-- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞—î —ñ–Ω–¥–µ–∫—Å
SELECT * FROM orders
WHERE customer_id = 123;

-- ‚ùå –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î —ñ–Ω–¥–µ–∫—Å
SELECT * FROM orders
WHERE created_at > '2024-01-01';
```

**–ü–æ—Ä—è–¥–æ–∫ —Å—Ç–æ–≤–ø—Ü—ñ–≤ –≤–∞–∂–ª–∏–≤–∏–π!**

## N+1 –ü—Ä–æ–±–ª–µ–º–∞

### ‚ùå –ü–æ–≥–∞–Ω–æ - N+1 –∑–∞–ø–∏—Ç:

```python
# 1 –∑–∞–ø–∏—Ç –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
users = User.query.all()

# N –∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω—å (–ø–æ 1 –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ)
for user in users:
    orders = user.orders  # –ù–æ–≤–∏–π –∑–∞–ø–∏—Ç!
    print(f"{user.name}: {len(orders)} orders")
```

**100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ = 101 –∑–∞–ø–∏—Ç –¥–æ –ë–î!** üò±

## –í–∏—Ä—ñ—à–µ–Ω–Ω—è N+1

### ‚úÖ –î–æ–±—Ä–µ - Eager Loading:

```python
# 1 –∑–∞–ø–∏—Ç –∑ JOIN
users = User.query.options(
    joinedload(User.orders)
).all()

for user in users:
    # –î–∞–Ω—ñ –≤–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ!
    print(f"{user.name}: {len(user.orders)} orders")
```

**100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ = 1 –∑–∞–ø–∏—Ç –¥–æ –ë–î!** ‚ú®

## EXPLAIN ANALYZE

### –ê–Ω–∞–ª—ñ–∑ –ø–ª–∞–Ω—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:

```sql
EXPLAIN ANALYZE
SELECT u.name, COUNT(o.id)
FROM users u
LEFT JOIN orders o ON u.id = o.user_id
WHERE u.created_at > '2024-01-01'
GROUP BY u.id;

-- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ:
-- ‚úÖ –ß–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —ñ–Ω–¥–µ–∫—Å–∏
-- ‚úÖ –°–∫—ñ–ª—å–∫–∏ —Ä—è–¥–∫—ñ–≤ —Å–∫–∞–Ω—É—î—Ç—å—Å—è
-- ‚úÖ –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –∫—Ä–æ–∫—É
```

## 4. –ö–µ—à—É–≤–∞–Ω–Ω—è

## –†—ñ–≤–Ω—ñ –∫–µ—à—É–≤–∞–Ω–Ω—è

```mermaid
graph TB
    A[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á] --> B[Browser Cache<br/>HTML, CSS, Images]
    B --> C[CDN Cache<br/>Static Assets]
    C --> D[Application Cache<br/>Redis/Memcached]
    D --> E[Database Cache<br/>Query Results]
    E --> F[(Database)]
```

## Browser Caching

### HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è:

```python
@app.route('/static/<path:filename>')
def serve_static(filename):
    response = make_response(send_file(filename))

    # –ö–µ—à—É–≤–∞—Ç–∏ –Ω–∞ 1 —Ä—ñ–∫
    response.headers['Cache-Control'] = \
        'public, max-age=31536000, immutable'

    return response
```

### –î–ª—è –≤–µ—Ä—Å—ñ–π–æ–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤:

```html
<link rel="stylesheet" href="style.v2.css">
<script src="app.v2.js"></script>
```

## Application-Level Caching

```python
import redis

redis_client = redis.Redis()

def get_popular_products():
    # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–µ—à
    cached = redis_client.get('popular_products')
    if cached:
        return json.loads(cached)

    # –ó–∞–ø–∏—Ç –¥–æ –ë–î
    products = db.query(
        "SELECT * FROM products ORDER BY views DESC LIMIT 10"
    )

    # –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ –∫–µ—à—ñ –Ω–∞ 10 —Ö–≤–∏–ª–∏–Ω
    redis_client.setex(
        'popular_products',
        600,
        json.dumps(products)
    )

    return products
```

## –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∫–µ—à—É–≤–∞–Ω–Ω—è

### 1Ô∏è‚É£ Cache-Aside (Lazy Loading):

1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–µ—à
2. –Ø–∫—â–æ —î ‚Üí –ø–æ–≤–µ—Ä–Ω—É—Ç–∏
3. –Ø–∫—â–æ –Ω–µ–º–∞—î ‚Üí –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ –ë–î
4. –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ –∫–µ—à—ñ

### 2Ô∏è‚É£ Write-Through:

–ó–∞–ø–∏—Å—É—î –≤ –∫–µ—à —Ç–∞ –ë–î –æ–¥–Ω–æ—á–∞—Å–Ω–æ

### 3Ô∏è‚É£ Write-Behind:

–ó–∞–ø–∏—Å—É—î –≤ –∫–µ—à, –ø–æ—Ç—ñ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ –ë–î

## –Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–µ—à—É

### "–î–≤—ñ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à—ñ —Ä–µ—á—ñ –≤ CS:"

1. –Ü–º–µ–Ω—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö
2. **–Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–µ—à—É**
3. Off-by-one –ø–æ–º–∏–ª–∫–∏

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:

- ‚è∞ **Time-based** - —á–µ—Ä–µ–∑ –ø–µ–≤–Ω–∏–π —á–∞—Å
- üîî **Event-based** - –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–∞–Ω–∏—Ö
- üñêÔ∏è **Manual** - —è–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫

## 5. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É

## –ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å

### Big O Notation:

- **O(1)** - –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞ - –Ω–∞–π–∫—Ä–∞—â–µ! üü¢
- **O(log n)** - –ª–æ–≥–∞—Ä–∏—Ñ–º—ñ—á–Ω–∞ - –¥–æ–±—Ä–µ üü¢
- **O(n)** - –ª—ñ–Ω—ñ–π–Ω–∞ - –ø—Ä–∏–π–Ω—è—Ç–Ω–æ üü°
- **O(n¬≤)** - –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞ - –ø–æ–≥–∞–Ω–æ üî¥
- **O(2‚Åø)** - –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ - –∂–∞—Ö–ª–∏–≤–æ üíÄ

### –ü—Ä–∏–∫–ª–∞–¥:

–î–ª—è **n = 10,000**:
- O(1) = 1 –æ–ø–µ—Ä–∞—Ü—ñ—è
- O(log n) = 14 –æ–ø–µ—Ä–∞—Ü—ñ–π
- O(n) = 10,000 –æ–ø–µ—Ä–∞—Ü—ñ–π
- O(n¬≤) = 100,000,000 –æ–ø–µ—Ä–∞—Ü—ñ–π

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤

```python
# ‚ùå O(n¬≤) - –ø–æ–≤—ñ–ª—å–Ω–æ
def find_duplicates_slow(items):
    duplicates = []
    for i in range(len(items)):
        for j in range(i + 1, len(items)):
            if items[i] == items[j]:
                duplicates.append(items[i])
    return duplicates
# 10,000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤: 2.5 —Å–µ–∫—É–Ω–¥–∏

# ‚úÖ O(n) - —à–≤–∏–¥–∫–æ
def find_duplicates_fast(items):
    seen = set()
    duplicates = set()
    for item in items:
        if item in seen:
            duplicates.add(item)
        seen.add(item)
    return list(duplicates)
# 10,000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤: 0.002 —Å–µ–∫—É–Ω–¥–∏
```

## –í–∏–±—ñ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö

### –®–≤–∏–¥–∫—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π:

| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –î–æ—Å—Ç—É–ø | –ü–æ—à—É–∫ | –í—Å—Ç–∞–≤–∫–∞ | –í–∏–¥–∞–ª–µ–Ω–Ω—è |
|-----------|--------|-------|---------|-----------|
| List      | O(1)   | O(n)  | O(n)    | O(n)      |
| Set       | -      | O(1)  | O(1)    | O(1)      |
| Dict      | O(1)   | O(1)  | O(1)    | O(1)      |

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ = —à–≤–∏–¥–∫–∏–π –∫–æ–¥!**

## –ü–∞—Ä–∞–ª–µ–ª—ñ–∑–º

```python
import concurrent.futures

urls = ['https://example.com/page{}'.format(i)
        for i in range(100)]

# ‚ùå –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ - –ø–æ–≤—ñ–ª—å–Ω–æ
def sequential():
    results = [fetch(url) for url in urls]
# –ß–∞—Å: 30 —Å–µ–∫—É–Ω–¥

# ‚úÖ –ü–∞—Ä–∞–ª–µ–ª—å–Ω–æ - —à–≤–∏–¥–∫–æ
def parallel():
    with concurrent.futures.ThreadPoolExecutor(10) as executor:
        results = list(executor.map(fetch, urls))
# –ß–∞—Å: 4 —Å–µ–∫—É–Ω–¥–∏
```

**7.5x –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è!** üöÄ

## –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –¥–ª—è –ø–∞–º'—è—Ç—ñ

```python
# ‚ùå –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤–µ—Å—å —Ñ–∞–π–ª —É –ø–∞–º'—è—Ç—å
def read_large_file_bad(filename):
    with open(filename) as f:
        lines = f.readlines()  # –í—Å–µ –≤ RAM!
    return [process(line) for line in lines]
# 1GB —Ñ–∞–π–ª = 1GB RAM

# ‚úÖ –û–±—Ä–æ–±–ª—è—î –ø–æ –æ–¥–Ω–æ–º—É —Ä—è–¥–∫—É
def read_large_file_good(filename):
    with open(filename) as f:
        for line in f:  # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä
            yield process(line)
# 1GB —Ñ–∞–π–ª = ~100KB RAM
```

## 6. Frontend –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

## –ú—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—è —Ç–∞ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è

### –†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—ñ–≤:

```
Original JavaScript: 500 KB
‚îú‚îÄ Minified:        300 KB (-40%)
‚îî‚îÄ Gzip:            90 KB (-82%)
‚îî‚îÄ Brotli:          75 KB (-85%)
```

### Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:

```nginx
gzip on;
gzip_types text/plain text/css application/json
           application/javascript text/xml;
gzip_min_length 1000;
gzip_comp_level 6;
```

## Lazy Loading

### –í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:

```html
<!-- –°—É—á–∞—Å–Ω–∏–π —Å–ø–æ—Å—ñ–± -->
<img src="image.jpg" loading="lazy" alt="Description">

<!-- JavaScript –¥–ª—è —Å—Ç–∞—Ä–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤ -->
<img data-src="image.jpg" class="lazy" alt="Description">
```

```javascript
const images = document.querySelectorAll('img[data-src]');

const imageObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const img = entry.target;
            img.src = img.dataset.src;
            imageObserver.unobserve(img);
        }
    });
});

images.forEach(img => imageObserver.observe(img));
```

## Code Splitting

### –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è JavaScript –∫–æ–¥—É:

```javascript
// ‚ùå –û–¥–∏–Ω –≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª
import HeavyComponent from './HeavyComponent';
// –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑–∞–≤–∂–¥–∏, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω

// ‚úÖ –î–∏–Ω–∞–º—ñ—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç
import React, { lazy, Suspense } from 'react';

const HeavyComponent = lazy(() =>
    import('./HeavyComponent')
);

function App() {
    return (
        <Suspense fallback={<div>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>}>
            <HeavyComponent />
        </Suspense>
    );
}
```

## Critical Rendering Path

```html
<!-- ‚ùå CSS –±–ª–æ–∫—É—î —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ -->
<head>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="heavy.css">
</head>

<!-- ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ç–∏–ª—ñ inline -->
<head>
    <style>
        /* –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è above-the-fold */
        body { margin: 0; font-family: sans-serif; }
        .header { background: #333; color: white; }
    </style>

    <!-- –ù–µ–∫—Ä–∏—Ç–∏—á–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ -->
    <link rel="preload" href="styles.css" as="style"
          onload="this.rel='stylesheet'">
</head>
```

## Debouncing —Ç–∞ Throttling

```javascript
// Debouncing - –≤–∏–∫–ª–∏–∫–∞—î –ø—ñ—Å–ª—è –ø–∞—É–∑–∏
function debounce(func, delay) {
    let timeoutId;
    return function(...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() =>
            func.apply(this, args), delay
        );
    };
}

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –ø–æ—à—É–∫—É
const search = debounce((query) => {
    console.log('–ü–æ—à—É–∫:', query);
}, 300);

input.addEventListener('input', (e) =>
    search(e.target.value)
);
```

## Throttling –ø—Ä–∏–∫–ª–∞–¥

```javascript
// Throttling - –æ–±–º–µ–∂—É—î —á–∞—Å—Ç–æ—Ç—É –≤–∏–∫–ª–∏–∫—ñ–≤
function throttle(func, limit) {
    let inThrottle;
    return function(...args) {
        if (!inThrottle) {
            func.apply(this, args);
            inThrottle = true;
            setTimeout(() =>
                inThrottle = false, limit
            );
        }
    };
}

// –î–ª—è scroll –ø–æ–¥—ñ—ó
const handleScroll = throttle(() => {
    console.log('Scroll:', window.scrollY);
}, 100);

window.addEventListener('scroll', handleScroll);
```

## 7. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∞–Ω–∞–ª—ñ–∑

## Application Performance Monitoring

### –ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏:

- ‚è±Ô∏è **Response Time** - —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- üîÑ **Throughput** - –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫
- ‚ùå **Error Rate** - –≤—ñ–¥—Å–æ—Ç–æ–∫ –ø–æ–º–∏–ª–æ–∫
- üíª **CPU/Memory** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- üìä **Database Queries** - —á–∞—Å –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –ë–î

## Prometheus –º–µ—Ç—Ä–∏–∫–∏

```python
from prometheus_client import Counter, Histogram

# –õ—ñ—á–∏–ª—å–Ω–∏–∫–∏
request_count = Counter(
    'http_requests_total',
    'Total HTTP requests'
)

# –ì—ñ—Å—Ç–æ–≥—Ä–∞–º–∞ —á–∞—Å—É
request_duration = Histogram(
    'http_request_duration_seconds',
    'HTTP request duration'
)

@app.route('/api/data')
def get_data():
    request_count.inc()

    with request_duration.time():
        # –û–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—É
        return jsonify(data)
```

## Distributed Tracing

```mermaid
sequenceDiagram
    participant Client
    participant API
    participant Database
    participant Cache

    Client->>API: GET /users/123
    Note over API: Span 1: 450ms
    API->>Cache: Check cache
    Note over Cache: Span 2: 5ms
    Cache-->>API: Cache miss
    API->>Database: Query user
    Note over Database: Span 3: 200ms
    Database-->>API: User data
    API-->>Client: Response
```

**Trace ID –æ–±'—î–¥–Ω—É—î –≤—Å—ñ spans**

## –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

```python
import logging
import time

logger = logging.getLogger('performance')

def log_performance(func):
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        duration = time.time() - start

        if duration > 1.0:  # –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ 1 —Å–µ–∫—É–Ω–¥–∏
            logger.warning(
                f"{func.__name__} took {duration:.2f}s"
            )

        return result
    return wrapper
```

## 8. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

## –ü—Ä–∞–≤–∏–ª–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

### üéØ –¢—Ä–∏ –∫—Ä–æ–∫–∏:

1. **–í–∏–º—ñ—Ä—é–π—Ç–µ** - –∑–Ω–∞–π–¥—ñ—Ç—å –≤—É–∑—å–∫–µ –º—ñ—Å—Ü–µ
2. **–û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ** - –ø–æ–∫—Ä–∞—â—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω–µ –º—ñ—Å—Ü–µ
3. **–í–∏–º—ñ—Ä—é–π—Ç–µ –∑–Ω–æ–≤—É** - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### ‚ö†Ô∏è –ù–µ –æ–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –∑–¥–æ–≥–∞–¥!

> "–ü–µ—Ä–µ–¥—á–∞—Å–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è - –∫–æ—Ä—ñ–Ω—å —É—Å—å–æ–≥–æ –∑–ª–∞"
>
> ‚Äî **–î–æ–Ω–∞–ª—å–¥ –ö–Ω—É—Ç**

## –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

### –°—Ñ–æ–∫—É—Å—É–π—Ç–µ—Å—å –Ω–∞:

1. **–ù–∞–π–ø–æ–≤—ñ–ª—å–Ω—ñ—à–æ–º—É** - 90% —á–∞—Å—É –≤ 10% –∫–æ–¥—É
2. **–ù–∞–π—á–∞—Å—Ç—ñ—à–æ–º—É** - –∫—Ä–∏—Ç–∏—á–Ω—ñ —à–ª—è—Ö–∏
3. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–º—É –¥–æ—Å–≤—ñ–¥—ñ** - —Ç–µ, —â–æ –±–∞—á–∏—Ç—å —é–∑–µ—Ä

### –Ü–≥–Ω–æ—Ä—É–π—Ç–µ:

- ‚ùå –ú—ñ–∫—Ä–æ–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –±–µ–∑ –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å
- ‚ùå –ö–æ–¥, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Ä—ñ–¥–∫–æ
- ‚ùå –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º –µ—Ñ–µ–∫—Ç–æ–º

## Checklist –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### Backend:

- ‚úÖ –Ü–Ω–¥–µ–∫—Å–∏ –Ω–∞ –≤–∞–∂–ª–∏–≤–∏—Ö —Å—Ç–æ–≤–ø—Ü—è—Ö
- ‚úÖ N+1 –∑–∞–ø–∏—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ
- ‚úÖ –ö–µ—à—É–≤–∞–Ω–Ω—è —á–∞—Å—Ç–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- ‚úÖ Connection pooling –¥–ª—è –ë–î
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–µ –º–æ–∂–ª–∏–≤–æ

### Frontend:

- ‚úÖ –ú—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—è —Ç–∞ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è
- ‚úÖ Lazy loading –∑–æ–±—Ä–∞–∂–µ–Ω—å
- ‚úÖ Code splitting
- ‚úÖ CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- ‚úÖ Browser caching –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π

## –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

### –ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è:

- **Python:** cProfile, memory_profiler
- **JavaScript:** Chrome DevTools
- **Java:** JProfiler, VisualVM

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:

- **Prometheus** + Grafana - –º–µ—Ç—Ä–∏–∫–∏
- **Jaeger** - distributed tracing
- **ELK Stack** - –ª–æ–≥—É–≤–∞–Ω–Ω—è

### –ù–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

- **Apache JMeter**
- **Locust**
- **K6**

## –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è: –≤—ñ–¥ 10 –¥–æ 1M

### üìà –ï—Ç–∞–ø–∏ —Ä–æ—Å—Ç—É:

**10-100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
- –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä, –≤—Å–µ –Ω–∞ –Ω—å–æ–º—É

**100-1K –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
- –û–∫—Ä–µ–º–∏–π —Å–µ—Ä–≤–µ—Ä –ë–î
- –ë–∞–∑–æ–≤–µ –∫–µ—à—É–≤–∞–Ω–Ω—è

**1K-10K –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
- Load balancer + –∫—ñ–ª—å–∫–∞ —Å–µ—Ä–≤–µ—Ä—ñ–≤
- Redis/Memcached
- CDN

**10K-100K –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
- –ú—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏
- –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è –ë–î
- Sharding

## –ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏

### üéØ –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏:

1. **–í–∏–º—ñ—Ä—é–π—Ç–µ –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é** - –Ω–µ –∑–¥–æ–≥–∞–¥—É–π—Ç–µ—Å—å
2. **–§–æ–∫—É—Å –Ω–∞ –≤—É–∑—å–∫–∏—Ö –º—ñ—Å—Ü—è—Ö** - 80/20 –ø—Ä–∞–≤–∏–ª–æ
3. **–Ü–Ω–¥–µ–∫—Å–∏ = —à–≤–∏–¥–∫—ñ—Å—Ç—å** - –¥–ª—è –ë–î –∑–∞–ø–∏—Ç—ñ–≤
4. **–ö–µ—à—É–≤–∞–Ω–Ω—è = –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** - –Ω–∞ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—è—Ö
5. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ = –∫–æ–Ω—Ç—Ä–æ–ª—å** - –ø–æ—Å—Ç—ñ–π–Ω–æ –≤—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ
