# RESTful API: –ø—Ä–∏–Ω—Ü–∏–ø–∏ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è

## –ü–ª–∞–Ω –ª–µ–∫—Ü—ñ—ó

1. –©–æ —Ç–∞–∫–µ REST —Ç–∞ API
2. –ü—Ä–∏–Ω—Ü–∏–ø–∏ REST –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
3. –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è RESTful API
4. HTTP –º–µ—Ç–æ–¥–∏ —Ç–∞ –∫–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É
5. –ë–µ–∑–ø–µ–∫–∞ API
6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
7. –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è –∑ OpenAPI

## 1. –©–æ —Ç–∞–∫–µ REST —Ç–∞ API

## API - Application Programming Interface

### üîå –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –ø—Ä–æ–≥—Ä–∞–º:

```mermaid
graph LR
    A[–ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫] -->|API –∑–∞–ø–∏—Ç–∏| B[–°–µ—Ä–≤–µ—Ä]
    C[–í–µ–±—Å–∞–π—Ç] -->|API –∑–∞–ø–∏—Ç–∏| B
    D[–Ü–Ω—à–∏–π —Å–µ—Ä–≤—ñ—Å] -->|API –∑–∞–ø–∏—Ç–∏| B

    B -->|JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ| A
    B -->|JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ| C
    B -->|JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ| D
```

### üéØ –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω API:

- –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è frontend —Ç–∞ backend
- –ú–æ–±—ñ–ª—å–Ω—ñ –¥–æ–¥–∞—Ç–∫–∏
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- –ú—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

## REST - Representational State Transfer

### üìú –Ü—Å—Ç–æ—Ä—ñ—è:

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π —Å—Ç–∏–ª—å –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏–π **–†–æ—î–º –§—ñ–ª–¥—ñ–Ω–≥–æ–º —É 2000** —Ä–æ—Ü—ñ

–ê–Ω–∞–ª—ñ–∑ —É—Å–ø—ñ—Ö—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –≤–µ–±—É

### üîë –ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è:

–í–∑–∞—î–º–æ–¥—ñ—è –∑ **—Ä–µ—Å—É—Ä—Å–∞–º–∏** —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–†–µ—Å—É—Ä—Å = –±—É–¥—å-—è–∫–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á, —Ç–æ–≤–∞—Ä, –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è)

### üåê REST –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î HTTP:

- –ú–µ—Ç–æ–¥–∏ (GET, POST, PUT, DELETE)
- URI –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ö–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö

## 2. –ü—Ä–∏–Ω—Ü–∏–ø–∏ REST

## 6 –æ–±–º–µ–∂–µ–Ω—å REST –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```mermaid
graph TB
    A[REST Constraints] --> B[Client-Server]
    A --> C[Stateless]
    A --> D[Cacheable]
    A --> E[Uniform Interface]
    A --> F[Layered System]
    A --> G[Code on Demand<br/>–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ]
```

## Client-Server

### üîÑ –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ:

**–ö–ª—ñ—î–Ω—Ç:**
- –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

**–°–µ—Ä–≤–µ—Ä:**
- –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
- –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

### ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:

–ù–µ–∑–∞–ª–µ–∂–Ω–∞ –µ–≤–æ–ª—é—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

–ö—Ä–∞—â–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å

–°–ø—Ä–æ—â–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

## Stateless - –±–µ–∑ —Å—Ç–∞–Ω—É

```mermaid
sequenceDiagram
    participant C as –ö–ª—ñ—î–Ω—Ç
    participant S as –°–µ—Ä–≤–µ—Ä

    C->>S: GET /api/products (+ Auth Token)
    S->>C: 200 OK + —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤

    C->>S: POST /api/orders (+ Auth Token + –¥–∞–Ω—ñ)
    S->>C: 201 Created + –Ω–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

    Note over C,S: –ö–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –º—ñ—Å—Ç–∏—Ç—å –í–°–Æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
```

### üéØ –ö–æ–∂–µ–Ω –∑–∞–ø–∏—Ç —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π:

–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω –∫–ª—ñ—î–Ω—Ç–∞

–í—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —Å–µ—Å—ñ—ó –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ

### ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:

–ü—Ä–æ—Å—Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å, –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å, –∫–µ—à—É–≤–∞–Ω–Ω—è

## Uniform Interface

### üéØ –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–∞—î 4 –∞—Å–ø–µ–∫—Ç–∏:

**1. –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ä–µ—Å—É—Ä—Å—ñ–≤ —á–µ—Ä–µ–∑ URI**
```
/api/products/123
/api/users/456/orders
```

**2. –ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è —á–µ—Ä–µ–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è**
- JSON, XML –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ —Å—Ç–∞–Ω—É —Ä–µ—Å—É—Ä—Å—É

**3. –°–∞–º–æ–æ–ø–∏—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**
- HTTP –º–µ—Ç–æ–¥–∏, –∫–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É, –∑–∞–≥–æ–ª–æ–≤–∫–∏

**4. HATEOAS** (Hypermedia as Engine of Application State)
- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–æ–≤'—è–∑–∞–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

## 3. –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è API

## –†–µ—Å—É—Ä—Å–∏ —Ç–∞ URI

### üéØ –ü—Ä–æ—î–∫—Ç—É–π—Ç–µ –Ω–∞–≤–∫–æ–ª–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ (—ñ–º–µ–Ω–Ω–∏–∫—ñ–≤):

```
‚úÖ –î–æ–±—Ä–µ:
GET    /api/products              # –ö–æ–ª–µ–∫—Ü—ñ—è —Ç–æ–≤–∞—Ä—ñ–≤
GET    /api/products/123          # –û–∫—Ä–µ–º–∏–π —Ç–æ–≤–∞—Ä
GET    /api/products/123/reviews  # –í—ñ–¥–≥—É–∫–∏ —Ç–æ–≤–∞—Ä—É
POST   /api/products              # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è
PUT    /api/products/123          # –û–Ω–æ–≤–ª–µ–Ω–Ω—è
DELETE /api/products/123          # –í–∏–¥–∞–ª–µ–Ω–Ω—è

‚ùå –ü–æ–≥–∞–Ω–æ (–¥—ñ—î—Å–ª–æ–≤–∞ –≤ URI):
GET    /api/getProduct?id=123
POST   /api/createProduct
POST   /api/deleteProduct?id=123
```

## –Ü–º–µ–Ω—É–≤–∞–Ω–Ω—è URI

### ‚úÖ –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏:

- üìù –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–º–Ω–æ–∂–∏–Ω—É** –¥–ª—è –∫–æ–ª–µ–∫—Ü—ñ–π
- üî° **Lowercase** –∑ –¥–µ—Ñ—ñ—Å–∞–º–∏: `/product-categories`
- üå≤ **–Ü—î—Ä–∞—Ä—Ö—ñ—è** –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∑–≤'—è–∑–∫–∏
- üî¢ **–í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è**: `/api/v1/products`
- üö´ –£–Ω–∏–∫–∞–π—Ç–µ **–¥—ñ—î—Å–ª—ñ–≤** —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ–π –≤ URI

```
# –Ü—î—Ä–∞—Ä—Ö—ñ—è —Ä–µ—Å—É—Ä—Å—ñ–≤
/products                      # –í—Å—ñ —Ç–æ–≤–∞—Ä–∏
/products/123                  # –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–≤–∞—Ä
/products/123/reviews          # –í—ñ–¥–≥—É–∫–∏ —Ç–æ–≤–∞—Ä—É
/products/123/reviews/456      # –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤—ñ–¥–≥—É–∫

/customers/789/orders          # –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
/orders/321/items              # –¢–æ–≤–∞—Ä–∏ –≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ
```

## 4. HTTP –º–µ—Ç–æ–¥–∏

## CRUD ‚Üí HTTP –º–µ—Ç–æ–¥–∏

```mermaid
graph LR
    A[CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó] --> B[Create ‚Üí POST]
    A --> C[Read ‚Üí GET]
    A --> D[Update ‚Üí PUT/PATCH]
    A --> E[Delete ‚Üí DELETE]
```

## GET - —á–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

```http
GET /api/products HTTP/1.1
Host: example.com
Authorization: Bearer token123
```

### ‚úÖ –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

- **–ë–µ–∑–ø–µ—á–Ω–∏–π** - –Ω–µ –∑–º—ñ–Ω—é—î —Å—Ç–∞–Ω —Å–µ—Ä–≤–µ—Ä–∞
- **–Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π** - –º–Ω–æ–∂–∏–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏ = –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **–ö–µ—à—É—î—Ç—å—Å—è** - –º–æ–∂–Ω–∞ –∫–µ—à—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

### üéØ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

- –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —Ä–µ—Å—É—Ä—Å—ñ–≤
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–∫—Ä–µ–º–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É
- –ó query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó

## POST - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É

```http
POST /api/products HTTP/1.1
Content-Type: application/json

{
  "name": "–ù–æ—É—Ç–±—É–∫ Dell XPS 15",
  "price": 45999,
  "category": "Electronics"
}
```

### ‚úÖ –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

- **–ù–ï —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π** - –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Ç —Å—Ç–≤–æ—Ä–∏—Ç—å –Ω–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å
- –ü–æ–≤–µ—Ä—Ç–∞—î **201 Created** –ø—Ä–∏ —É—Å–ø—ñ—Ö—É
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ **Location** –∑ URI –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É

```http
HTTP/1.1 201 Created
Location: /api/products/789
```

## PUT vs PATCH

### PUT - –ø–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:

```http
PUT /api/products/123 HTTP/1.1
Content-Type: application/json

{
  "name": "–û–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞–∑–≤–∞",
  "price": 42999,
  "category": "Electronics",
  "in_stock": true
}
```

–ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ **–≤—Å—ñ –ø–æ–ª—è**

**–Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π**

### PATCH - —á–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:

```http
PATCH /api/products/123 HTTP/1.1
Content-Type: application/json

{
  "price": 42999
}
```

–ù–∞–¥—Å–∏–ª–∞—î–º–æ **–ª–∏—à–µ –∑–º—ñ–Ω–µ–Ω—ñ –ø–æ–ª—è**

## DELETE - –≤–∏–¥–∞–ª–µ–Ω–Ω—è

```http
DELETE /api/products/123 HTTP/1.1
Authorization: Bearer token123
```

### ‚úÖ –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

- **–Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π** - –ø–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è = —Ç–æ–π —Å–∞–º–∏–π –µ—Ñ–µ–∫—Ç
- –ü–æ–≤–µ—Ä—Ç–∞—î **204 No Content** –∞–±–æ **200 OK**
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–µ—ñ—Å–Ω—É—é—á–æ–≥–æ ‚Üí **404 Not Found**

### ‚ö†Ô∏è –ë–µ–∑–ø–µ–∫–∞:

–ó–∞–≤–∂–¥–∏ –≤–∏–º–∞–≥–∞–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é!

## HTTP –∫–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É

## 2xx - –£—Å–ø—ñ—Ö

- **200 OK** - —É—Å–ø—ñ—à–Ω–∏–π GET, PUT, PATCH
- **201 Created** - —É—Å–ø—ñ—à–Ω–∏–π POST, —Ä–µ—Å—É—Ä—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ
- **204 No Content** - —É—Å–ø—ñ—à–Ω–æ, –∞–ª–µ –Ω–µ–º–∞—î —Ç—ñ–ª–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (DELETE)

## 4xx - –ü–æ–º–∏–ª–∫–∏ –∫–ª—ñ—î–Ω—Ç–∞

- **400 Bad Request** - –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞–ø–∏—Ç—É
- **401 Unauthorized** - –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- **403 Forbidden** - –¥–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ (–Ω–∞–≤—ñ—Ç—å –∑ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é)
- **404 Not Found** - —Ä–µ—Å—É—Ä—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
- **409 Conflict** - –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –∑—ñ —Å—Ç–∞–Ω–æ–º —Ä–µ—Å—É—Ä—Å—É
- **422 Unprocessable Entity** - –ø–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

## 5xx - –ü–æ–º–∏–ª–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

- **500 Internal Server Error** - –∑–∞–≥–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **503 Service Unavailable** - —Å–µ—Ä–≤—ñ—Å —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π

## –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è, —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è

### üîç –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

```
GET /api/products?category=electronics&price_min=1000&price_max=5000
GET /api/products?in_stock=true&brand=Apple
GET /api/orders?status=pending&created_after=2024-01-01
```

### üìä –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:

```
GET /api/products?sort=price          # –∑–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º
GET /api/products?sort=-price         # –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º
GET /api/products?sort=category,price # –º–Ω–æ–∂–∏–Ω–Ω–µ
```

### üìÑ –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è:

```
GET /api/products?page=2&limit=20
```

## –í—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é

```json
{
  "data": [
    {
      "id": 21,
      "name": "–¢–æ–≤–∞—Ä 21",
      "price": 999
    }
    // ... —â–µ 19 —Ç–æ–≤–∞—Ä—ñ–≤
  ],
  "pagination": {
    "total": 150,
    "page": 2,
    "limit": 20,
    "pages": 8,
    "next": "/api/products?page=3&limit=20",
    "prev": "/api/products?page=1&limit=20"
  }
}
```

## –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### üìã –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "–ü–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ –Ω–∞–¥–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö",
    "timestamp": "2024-10-11T10:30:00Z",
    "path": "/api/products",
    "validation_errors": [
      {
        "field": "email",
        "code": "INVALID_FORMAT",
        "message": "Email –º–∞—î –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç"
      },
      {
        "field": "price",
        "code": "OUT_OF_RANGE",
        "message": "–¶—ñ–Ω–∞ –º–∞—î –±—É—Ç–∏ –±—ñ–ª—å—à–µ 0"
      }
    ]
  }
}
```

## 5. –ë–µ–∑–ø–µ–∫–∞ API

## –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è vs –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

```mermaid
graph TB
    A[–ë–µ–∑–ø–µ–∫–∞ API] --> B[–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è<br/>–•—Ç–æ —Ç–∏?]
    A --> C[–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è<br/>–©–æ —Ç–æ–±—ñ –¥–æ–∑–≤–æ–ª–µ–Ω–æ?]

    B --> D[API Keys]
    B --> E[OAuth 2.0]
    B --> F[JWT Tokens]

    C --> G[–†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤]
    C --> H[–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É]
```

## JWT - JSON Web Tokens

### üîë –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JWT:

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IklWYW4gUGV0cmVua28iLCJpYXQiOjE1MTYyMzkwMjJ9.
SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

Header.Payload.Signature
```

### ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:

- **Stateless** - –≤—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –≤ —Ç–æ–∫–µ–Ω—ñ
- **–°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π** - –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –ë–î –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- **–ö–æ–º–ø–∞–∫—Ç–Ω–∏–π** - –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫—É

```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

## OAuth 2.0 Flow

```mermaid
sequenceDiagram
    participant U as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant C as –ö–ª—ñ—î–Ω—Ç
    participant A as Auth Server
    participant R as API Server

    U->>C: –ó–∞–ø–∏—Ç –¥–æ—Å—Ç—É–ø—É
    C->>A: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
    U->>A: –õ–æ–≥—ñ–Ω + –¥–æ–∑–≤—ñ–ª
    A->>C: Authorization Code
    C->>A: –û–±–º—ñ–Ω code –Ω–∞ token
    A->>C: Access Token
    C->>R: API –∑–∞–ø–∏—Ç + Token
    R->>C: –î–∞–Ω—ñ
```

## Rate Limiting

### ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤:

```http
HTTP/1.1 200 OK
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1634567890
```

### üö´ –ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É:

```http
HTTP/1.1 429 Too Many Requests
Retry-After: 60

{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "–ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –ª—ñ–º—ñ—Ç –∑–∞–ø–∏—Ç—ñ–≤",
    "retry_after": 60
  }
}
```

## –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∞—Ç–∞–∫

### üõ°Ô∏è –û—Å–Ω–æ–≤–Ω—ñ –∑–∞—Ö–æ–¥–∏:

**SQL –Ü–Ω'—î–∫—Ü—ñ—ó:**
```python
# ‚ùå –ù–Ü–ö–û–õ–ò
query = f"SELECT * FROM users WHERE email = '{email}'"

# ‚úÖ –ó–ê–í–ñ–î–ò –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏
query = "SELECT * FROM users WHERE email = %s"
cursor.execute(query, (email,))
```

**CORS - Cross-Origin Resource Sharing:**
```http
Access-Control-Allow-Origin: https://example.com
Access-Control-Allow-Methods: GET, POST, PUT, DELETE
Access-Control-Allow-Headers: Content-Type, Authorization
```

**HTTPS –∑–∞–≤–∂–¥–∏ –≤ production!**

## 6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

## –¢–∏–ø–∏ —Ç–µ—Å—Ç—ñ–≤

```mermaid
graph TB
    A[–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API] --> B[Unit Tests<br/>–û–∫—Ä–µ–º—ñ —Ñ—É–Ω–∫—Ü—ñ—ó]
    A --> C[Integration Tests<br/>–ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –∑ –ë–î]
    A --> D[E2E Tests<br/>–ü–æ–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó]

    B --> E[–®–≤–∏–¥–∫—ñ<br/>–ë–∞–≥–∞—Ç–æ]
    C --> F[–°–µ—Ä–µ–¥–Ω—ñ<br/>–ü–æ–º—ñ—Ä–Ω–æ]
    D --> G[–ü–æ–≤—ñ–ª—å–Ω—ñ<br/>–ú–∞–ª–æ]
```

## Integration —Ç–µ—Å—Ç–∏ –∑ Python

```python
import requests
import unittest

class TestProductAPI(unittest.TestCase):
    BASE_URL = "http://localhost:8000/api"

    def test_create_product(self):
        product_data = {
            "name": "–¢–µ—Å—Ç–æ–≤–∏–π —Ç–æ–≤–∞—Ä",
            "price": 999,
            "category": "Electronics"
        }

        response = requests.post(
            f"{self.BASE_URL}/products",
            json=product_data,
            headers={"Authorization": f"Bearer {self.token}"}
        )

        self.assertEqual(response.status_code, 201)
        data = response.json()
        self.assertEqual(data["name"], product_data["name"])
        self.assertIn("id", data)

    def test_unauthorized_access(self):
        response = requests.post(
            f"{self.BASE_URL}/products",
            json={"name": "Test"}
        )
        self.assertEqual(response.status_code, 401)
```

## Postman –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### üß™ Postman Test Scripts:

```javascript
// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—É
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
pm.test("Response has products array", function () {
    const jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property('products');
    pm.expect(jsonData.products).to.be.an('array');
});

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∞–Ω–∏—Ö
pm.test("Product has required fields", function () {
    const product = pm.response.json().products[0];
    pm.expect(product).to.have.property('id');
    pm.expect(product).to.have.property('name');
    pm.expect(product).to.have.property('price');
});

// –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤
pm.environment.set("productId", jsonData.id);
```

## 7. –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è API

## –ß–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∫—Ä–∏—Ç–∏—á–Ω–∞?

### üìö –•–æ—Ä–æ—à–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:

- –ü—Ä–∏—Å–∫–æ—Ä—é—î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤
- –ó–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∏—Ç–∞–Ω—å –ø—ñ–¥—Ç—Ä–∏–º–∫–∏
- –°–ª—É–∂–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –º—ñ–∂ frontend —Ç–∞ backend
- –î–æ–ø–æ–º–∞–≥–∞—î –ø—Ä–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É –Ω–æ–≤–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤

### üìã –©–æ –º–∞—î –≤–∫–ª—é—á–∞—Ç–∏:

- –û–ø–∏—Å –∫–æ–∂–Ω–æ–≥–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—É
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—ñ–≤
- –§–æ—Ä–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ö–æ–¥–∏ –ø–æ–º–∏–ª–æ–∫
- –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- Authentication flows

## OpenAPI Specification (Swagger)

### üìÑ –°—Ç–∞–Ω–¥–∞—Ä—Ç –æ–ø–∏—Å—É REST API:

```yaml
openapi: 3.0.0
info:
  title: Products API
  version: 1.0.0
  description: API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏

servers:
  - url: https://api.example.com/v1
    description: Production server

paths:
  /products:
    get:
      summary: –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
      parameters:
        - name: category
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        '200':
          description: –£—Å–ø—ñ—à–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
```

## OpenAPI: —Å—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö

```yaml
components:
  schemas:
    Product:
      type: object
      required:
        - name
        - price
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          minLength: 1
          maxLength: 200
        price:
          type: number
          format: double
          minimum: 0
        category:
          type: string
        in_stock:
          type: boolean
          default: true
        created_at:
          type: string
          format: date-time
          readOnly: true
```

## Swagger UI

### üé® –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:

```mermaid
graph LR
    A[OpenAPI Spec<br/>YAML/JSON] --> B[Swagger UI]
    B --> C[–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞<br/>–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è]
    B --> D[–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å<br/>—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è]
    B --> E[–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è<br/>–∫–ª—ñ—î–Ω—Ç—ñ–≤]
```

### ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:

- –í—ñ–∑—É–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ –∫–æ–¥—É
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫

## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å:

- –û–¥–Ω–µ —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—Å—å–æ–≥–æ API
- –Ñ–¥–∏–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### ‚úÖ –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è:

```
/api/v1/products
/api/v2/products
```

–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ–π, –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ deprecation

### ‚úÖ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:

- Compression (gzip)
- ETags –¥–ª—è conditional requests
- Field filtering: `?fields=id,name,price`
- Pagination –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

## –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### üìä –©–æ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏:

```mermaid
graph TB
    A[API Metrics] --> B[Response Time<br/>–õ–∞—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å]
    A --> C[Error Rate<br/>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫]
    A --> D[Throughput<br/>–ó–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫]
    A --> E[Popular Endpoints<br/>–¢–æ–ø –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤]
```

### üîç Correlation IDs:

```http
X-Correlation-ID: 550e8400-e29b-41d4-a716-446655440000
```

–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—É —á–µ—Ä–µ–∑ –≤—Å—é —Å–∏—Å—Ç–µ–º—É

## –í–∏—Å–Ω–æ–≤–∫–∏

### üéØ –ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:

1. **REST –ø—Ä–∏–Ω—Ü–∏–ø–∏** - stateless, uniform interface, —Ä–µ—Å—É—Ä—Å–∏
2. **HTTP –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - –º–µ—Ç–æ–¥–∏ –∑–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–æ—é, –∫–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É
3. **–ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∫–æ–ª–æ —Ä–µ—Å—É—Ä—Å—ñ–≤** - —ñ–º–µ–Ω–Ω–∏–∫–∏, –Ω–µ –¥—ñ—î—Å–ª–æ–≤–∞
4. **–ë–µ–∑–ø–µ–∫–∞ –±–∞–≥–∞—Ç–æ—à–∞—Ä–æ–≤–∞** - –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, rate limiting, HTTPS
5. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—è—Ö** - unit, integration, e2e
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∫—Ä–∏—Ç–∏—á–Ω–∞** - OpenAPI/Swagger
7. **–ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏** - –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å, –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### üí° –ì–æ–ª–æ–≤–Ω–∞ –¥—É–º–∫–∞:

RESTful API - —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑—Ä–æ–∑—É–º—ñ–ª–∏—Ö, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏—Ö —Ç–∞ –Ω–∞–¥—ñ–π–Ω–∏—Ö –≤–µ–±—Å–µ—Ä–≤—ñ—Å—ñ–≤
